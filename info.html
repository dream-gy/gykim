<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1"> 
    <title> 김가영 포트폴리오</title>
    <meta name="keywords" content="신입웹퍼블리셔, 웹포트폴리오, 김가영">
    <meta name="description" content="신입 웹퍼블리셔 김가영의 포트폴리오입니다.">
    <link rel="stylesheet" href="./css/info.css">
    <link rel="stylesheet" href="./css/jquery.splitter.css">
    <script src="./js/jquery-3.6.1.min.js"></script>
    <script src="./js/jquery.splitter.js"></script>
    <script src="./js/sub.js"></script>
  </head>
<body>
  <div id="wrap">
    <header>
      <div class="container">
        <h1 class="logo"><a href="index.html"><img src="./image/gaeung.svg" alt="gaeung"><span class="hidden">신입 웹퍼블리셔 김가영 포트폴리오</span></a></h1>
      </div>
    </header>
    <section class="visual">
      <div class="container">
        <div class="img">
        </div>
        <div class="deco">
          <h2><span class="num"></span><span class="hidden">번째</span></h2>
          <p>Portfolio</p>
        </div>
      </div>
    </section>
    <section class="info">
      <div class="container">
        <div class="tit">
           <p> <!-- 동적 생성 : 종류 --></p>
           <h3> <!-- 동적 생성 : 이름 --> <span class="hidden">사이트</span> </h3>
        </div>
        <ul class="info-list">
          <li>
            <p>info</p>
            <div class="cont"><!-- 동적 생성 : info --></div>
          </li>
          <li class="skills">
            <p>skills</p>
            <ul class="cont">
              <!-- 동적 생성 -->
            </ul>
          </li>
          <li>
            <p>preiod</p>
            <div class="cont"><!-- 동적 생성 : preiod --></div>
          </li>
          <li>
            <p>size</p>
            <div class="cont"><!-- 동적 생성 : size --></div>
          </li>
          <li>
            <p>page</p>
            <div class="cont"><!-- 동적 생성 : page --></div>
          </li>
        </ul>
        <div class="skills-detail">
         <ul id="test" class="detail-list ">
         <!-- 동적 생성 : detail-list --> 
         </ul>
        </div>
      </div>
    </section>
    <button type="button"  class="scroll-top"><span>위로</span></button>
    <div class="bg"></div>
    <footer>
      <div class="container">
        <p class="point-tit">이 사이트는 포트폴리오 목적으로 만든 사이트입니다.</p>
        <div class="copyright">© 2022 gayoung</div>
      </div>
    </footer>
  </div> 
  <script>

$.ajax({
  url : "./data/item.json",
  dataType : "json",
  success : function(data){
    var itemId = getParameterByName('itemId'); //주소창 파라미터값
    var mainImg,
        type,
        title,
        info,
        preiod,
        page,
        size,
        html,
        linkhtml,
        elements =[];
    $.each(data,function(index, item){
      if(itemId == item.id){
          mainImg = item.mainImage;
          type = item.type;
          title = item.title;
          info = item.info;
          preiod = item.preiod;
          size = item.size.replace(/,/g,"<br>");
          page = item.page;

          $.each(item.content,function(key, list){
            arrlinke = [];
            if(list.link) {
              $.each(list.link,function(i,el){
                  linkhtml ="<li><a href='"+el.linkId+"'>"+el.name +"</a></li>";
                  arrlinke.push(linkhtml);
              });
              arrlinke = arrlinke.join(""); 
              html = 
                "<li id='"+key+"'>"+
                  "<h4>"+list.subtitle+"</h4>"+
                  "<div class='desc'>" + list.subcont +  
                    "<p>관련링크</p>" +
                    "<ul>"+arrlinke+"</ul>"+
                  "</div>"+
                  "<div class='cont'>"+
                    "<div class='img'><img src='"+list.image.url01+"' alt=''></div>"+
                    "<div class='code'><img src='"+list.image.url02+"' alt=''></div>"+
                  "</div>"
                "</li>";
              elements.push($(html).get(0));
            }else {
              html = 
                "<li id='"+key+"'>"+
                  "<h4>"+list.subtitle+"</h4>"+
                  "<div class='desc'>"+ list.subcont+ "</div>"+
                  "<div class='cont'>"+
                    "<div class='img'><img src='"+list.image.url01+"' alt=''></div>"+
                    "<div class='code'><img src='"+list.image.url02+"' alt=''></div>"+
                  "</div>"
                "</li>";
            elements.push($(html).get(0));
            }//list.link
          });//(item.content).each
      }//if(itemId == item.itemid)
    });//data.each
      
    var mainHtml = "<img src='"+mainImg+"' alt=''>";
    $(".visual .img").find("img").remove();
    $(".visual .img").html(mainHtml);
    //$(".visual .deco h2").find(".num").html(number);
    $(".info .tit").find("p").html(type);
    $(".info .tit").find("h3").html(title);
    $(".info-list li").eq(0).find(".cont").html(info);
    $(".info-list li").eq(2).find(".cont").html(preiod);
    $(".info-list li").eq(3).find(".cont").html(size);
    $(".info-list li").eq(4).find(".cont").html(page);
    $(".detail-list").append(elements);
          
  }//data.success
});//ajax

  </script>
</body>
</html>